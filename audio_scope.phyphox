<phyphox version="1.5" locale="en">
    <title>Audio Scope</title>
    <category>Acoustics</category>
    <icon format="base64">iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAPcSURBVHic7d0xiFxVFMfhc8UUpoiFjYFgqSCiEdKJ2tiaNkUsLKzSKKgothYRBCGNnYWgSCy1tFvSJSSBKIighSjYKG6KCElxLaKod4Y/O5tx7mzyfeUpLmff7g9e8d7bKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYoM1eYD96759U1WPD+HRr7bsZ+/CP3vsLVXV2GH/VWntnxj536v7ZC+zTE1X11DA7PGMRFjxUVSeG2Q8zFlmH+2YvANtMIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBBs9FGT3vuhqnplGN9srX20yT3+2uWZqnpyGF9orV3b9C7bovf+bN1+jOffdlpr32x4jweq6uVhfKO19vEm99i43vuRvuj6Ps65uuSc4yuecW7JGa+uusvdpPf+4ZJrcmbFM04tOeP8imc8vOSMX1b7adbDLRYEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFgz9/m7b0/XVWvD+PLrbUP1rvSwdF7P1FVrw3ji621cxN2ea+qjg3jt1prP296l23Re3+/qo4O4zdaa3v+jOkqH68+VlWnh9mDVXXPBlJVj9TiNTlcVRsPpKperKrHh9nZqrpnA6mqk1X16DB7t6r2HIhbLAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAsEqr9zyP+i9H6mqL4fxbmvt5Ix9+C+BzHeoqp4bZr/NWIRFbrEgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoHAs1jz3aqqnWG2O2MRFglkstba9ap6fvYeLOcWCwKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQLDKK7c/VdWnw+zyGnc5iH6sxWtyccYidfuf8FwZZr/PWGSLfFFVR4fZSu/77zmQ1tqVqnpplcPvdq21S7Ul16S19vbsHbZNa+3NOz3DLRYEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFglW/zrsMfVXVmmN3c8A5/+7yqvh1mF2YsskU+q6prw2xnwh67tfh3cmPCHgdT7/1qX3R89l5U9d5PLfndnJ+91365xYJAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBBs+lmsdfm6qm4NM8/qbIdfq+rSMPt+xiIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcGD9CfYbFrLu7jiUAAAAAElFTkSuQmCC</icon>
    <description>
        Show recorded audio data.

        This experiment just records short periods of audio data and displays them. To achieve a steady image, a zero crossing is used as a trigger and t=0 is shifted to the first (positive) crossing.
    </description>
    <link label="Wiki">http://phyphox.org/wiki/index.php?title=Experiment:_Audio_Scope</link>
    <translations>
        <translation locale="de">
            <title>Audio Oszilloskop</title>
            <category>Akustik</category>
            <description>
                Stellt Audioaufnahmen dar.

                Dieses Experiment nimmt Audiodaten über das Mikrofon auf und stellt diese dar. Um ein stabiles Bild zu zeigen, wird ähnlich einem Oszilloskop ein Trigger verwendet, wenn das Signal die Nulllinie durchläuft und die Zeitskala so verschoben, dass t=0 auf der ersten positiven Flanke liegt.
            </description>

            <string original="Scope">Oszilloskop</string>
            <string original="Audio Data">Audiodaten</string>
            <string original="Time (ms)">Zeit (ms)</string>
            <string original="Duration">Dauer</string>
        </translation>
    </translations>
    <data-containers>
        <container size="26400">recording</container>
        <container size="26400" static="true">time</container>
        <container size="26400">subtime0</container>
        <container size="2">triggerTMinList</container>
        <container>triggerT</container>
        <container>triggerTend</container>
        <container size="24000">subtime</container>
        <container size="24000">subdata</container>
        <container init="10">length</container>
        <container>sleep1000</container>
        <container init="0.05">sleep</container>
    </data-containers>
    <input>
        <audio rate="48000">
            <output>recording</output>
        </audio>
    </input>
    <views>
        <view label="Scope">
            <graph label="Audio Data" labelX="Time (ms)" labelY="Amplitude (a.u.)" scaleMinY="extend" scaleMaxY="extend">
                <input axis="x">subtime0</input>
                <input axis="y">subdata</input>
            </graph>
            <edit label="Duration" unit="ms" min="1" max="500">
                <output>length</output>
            </edit>
        </view>
    </views>
    <analysis sleep="0.1" dynamicSleep="sleep">
        <add>
            <input clear="false">length</input>
            <input type="value">50</input>
            <output>sleep1000</output>
        </add>

        <divide>
            <input clear="false">sleep1000</input>
            <input type="value">1000</input>
            <output>sleep</output>
        </divide>

        <ramp>
            <input as="start" type="value">0</input>
            <input as="stop" type="value">500</input>
            <output>time</output>
        </ramp>

        <append>
            <input type="value">50</input>
            <output>triggerTMinList</output>
        </append>

        <threshold falling="false">
            <input as="y" clear="false">recording</input>
            <input as="x">time</input>
            <output clear="false">triggerTMinList</output>
        </threshold>

        <min>
            <input as="y">triggerTMinList</input>
            <output as="min">triggerT</output>
        </min>

        <add>
            <input clear="false">triggerT</input>
            <input clear="false">length</input>
            <output>triggerTend</output>
        </add>
        <rangefilter>
            <input>time</input>
            <input as="min">triggerT</input>
            <input as="max">triggerTend</input>
            <input>recording</input>
            <output>subtime</output>
            <output>subdata</output>
         </rangefilter>

        <match>
            <input clear="false">time</input>
            <input clear="false">subdata</input>
            <output>subtime0</output>
        </match>
    </analysis>
    <export>
        <set name="Audio data">
            <data name="Time (ms)">subtime0</data>
            <data name="Recording (a.u.)">subdata</data>
        </set>
    </export>
</phyphox>
